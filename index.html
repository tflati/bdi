<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"> 
		<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="bower_components/angular-material/angular-material.css">

		<script src="bower_components/angular/angular.js"></script>
		<script src="bower_components/angular-aria/angular-aria.js"></script>
		<script src="bower_components/angular-animate/angular-animate.js"></script>
		<script src="bower_components/angular-material/angular-material.js"></script>

		<script src="bower_components/chart.js/dist/Chart.js"></script>
		<script src="bower_components/angular-chart.js/angular-chart.js"></script>
		
		<!-- TABLES -->
		<link href="bower_components/angular-material-data-table/dist/md-data-table.min.css" rel="stylesheet" type="text/css"/>
		<script src="bower_components/angular-material-data-table/dist/md-data-table.js" type="text/javascript"></script>

		<style>
				.md-table tbody tr{
					transition: all 0.1s ease-in;
				}
				.md-table tbody tr:hover {
				  cursor:pointer;
				  background-color:rgba(63,81,181,0.2);
				}

				#toolbar {
					background-color: #efefef;
				}
		</style>

		<script>

			angular.module( 'app', [ 'ngMaterial', 'chart.js', 'md.data.table'] )
				.config(function($mdThemingProvider) {
					$mdThemingProvider.theme('big-data-theme')
					      .primaryPalette('amber')
					      .accentPalette('red')
					      .warnPalette('light-green');
				})
				.filter('keyboardShortcut', function($window) {
					return function(str) {
					  if (!str) return;
					  var keys = str.split('-');
					  var isOSX = /Mac OS X/.test($window.navigator.userAgent);

					  var seperator = (!isOSX || keys.length > 2) ? '+' : '';

					  var abbreviations = {
						M: isOSX ? 'âŒ˜' : 'Ctrl',
						A: isOSX ? 'Option' : 'Alt',
						S: 'Shift'
					  };

					  return keys.map(function(key, index) {
						var last = index == keys.length - 1;
						return last ? key : abbreviations[key];
					  }).join(seperator);
					};
				  })
				.controller("controller", function($scope, $timeout, $mdSidenav){

					self = this;

					self.title = "Peach variant database portal";
					self.description = "A comprehensive information of xxxxxx single nucleotide polymorphisms (SNPs) and yyyyyyy insertions/deletions (INDELs) identified from sequencing data of zzzzz peach accessions.";

					$scope.items = [
						{ name: 'Home', url: "http://www.google.it", items: [{ name: 'Sottoitem1', url: "http://www.google.it"}, { name: 'Sottoitem2', url: "http://www.google.it"}]},
						{ name: 'SNP Information', url: "http://galaxy.cineca.it" },
						{ name: 'INDEL Information', url: "" },
						{ name: 'Cultivars', url: "" },
						{ name: 'Tools', url: "" },
						{ name: 'GBrowse', url: "" },
						{ name: 'Documents & Downloads', url: "" },
						{ name: 'Statistics', url: "" },
						{ name: 'Contact', url: "" },
					  ];
	
					$scope.toggle = function() {
					      return $mdSidenav('left').toggle();
					    }
					
				  $scope.chartlabels = ["January", "February", "March", "April", "May", "June", "July"];
				  $scope.chartseries = ['Series A', 'Series B'];
				  $scope.chartdata = [
					[65, 59, 80, 81, 56, 55, 40],
					[28, 48, 40, 19, 86, 27, 90]
				  ];
				  $scope.onClick = function (points, evt) {
					console.log(points, evt);
				  };
				  $scope.datasetOverride = [{ yAxisID: 'y-axis-1' }, { yAxisID: 'y-axis-2' }];
				  $scope.options = {
					scales: {
					  yAxes: [
						{
						  id: 'y-axis-1',
						  type: 'linear',
						  display: true,
						  position: 'left'
						},
						{
						  id: 'y-axis-2',
						  type: 'linear',
						  display: true,
						  position: 'right'
						}
					  ]
					}
				  };

				  $scope.pielabels = ["Download Sales", "In-Store Sales", "Mail-Order Sales"];
				  $scope.piedata = [300, 500, 100];
			
				  $scope.histlabels = ['2006', '2007', '2008', '2009', '2010', '2011', '2012'];
				  $scope.histseries = ['Series A', 'Series B'];
			      $scope.histdata = [
					  [65, 59, 80, 81, 56, 55, 40],
					  [28, 48, 40, 19, 86, 27, 90]
					];

				  $scope.data = [
						{
							chr: '1',
							start: 100,
							end: 104
						},
						{
							chr: '1',
							start: 1000,
							end: 1084
						},
						{
							chr: '3',
							start: 1300,
							end: 1456
						},
						{
							chr: 'X',
							start: 1670,
							end: 1700
						},
					];

				  this.settings = {
					  printLayout: true,
					  showRuler: true,
					  showSpellingSuggestions: true,
					  presentationMode: 'edit'
					};

					this.sampleAction = function(name, ev) {
					  $mdDialog.show($mdDialog.alert()
						.title(name)
						.textContent('You triggered the "' + name + '" action')
						.ok('Great')
						.targetEvent(ev)
					  );
					};
				}// End of controller
			);

		</script>
	</head>
	<body style="margin: 0px; font-size: 1.2em;" ng-app="app" md-theme="big-data-theme">

		<div ng-controller="controller as ctrl" layout="column" ng-cloak>

		<md-toolbar class="md-menu-toolbar" id="toolbar">
			<div layout="row">
			  <div>
				<md-menu-bar>
				  <md-menu>
				    <button ng-click="$mdOpenMenu()">
				      File
				    </button>
				    <md-menu-content>
				      <md-menu-item>
				        <md-button ng-click="ctrl.sampleAction('share', $event)">
				          Share...
				        </md-button>
				      </md-menu-item>
				      <md-menu-divider></md-menu-divider>
				      <md-menu-item>
				        <md-menu>
				          <md-button ng-click="$mdOpenMenu()">New</md-button>
				          <md-menu-content>
				            <md-menu-item><md-button ng-click="ctrl.sampleAction('New Document', $event)">Document</md-button></md-menu-item>
				            <md-menu-item><md-button ng-click="ctrl.sampleAction('New Spreadsheet', $event)">Spreadsheet</md-button></md-menu-item>
				            <md-menu-item><md-button ng-click="ctrl.sampleAction('New Presentation', $event)">Presentation</md-button></md-menu-item>
				            <md-menu-item><md-button ng-click="ctrl.sampleAction('New Form', $event)">Form</md-button></md-menu-item>
				            <md-menu-item><md-button ng-click="ctrl.sampleAction('New Drawing', $event)">Drawing</md-button></md-menu-item>
				          </md-menu-content>
				        </md-menu>
				      </md-menu-item>
				      <md-menu-item>
				        <md-button ng-click="ctrl.sampleAction('Open', $event)">
				          Open...
				          <span class="md-alt-text"> {{ 'M-O' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				      <md-menu-item>
				        <md-button disabled="disabled" ng-click="ctrl.sampleAction('Rename', $event)">
				          Rename
				        </md-button>
				      </md-menu-item>
				      <md-menu-divider></md-menu-divider>
				      <md-menu-item>
				        <md-button ng-click="ctrl.sampleAction('Print', $event)">
				          Print
				          <span class="md-alt-text">{{ 'M-P' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				    </md-menu-content>
				  </md-menu>
				  <md-menu>
				    <button ng-click="$mdOpenMenu()">
				      Edit
				    </button>
				    <md-menu-content>
				      <md-menu-item class="md-indent">
				        <md-icon md-svg-icon="undo"></md-icon>
				        <md-button ng-click="ctrl.sampleAction('undo', $event)">
				          Undo
				          <span class="md-alt-text">{{ 'M-Z' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				      <md-menu-item class="md-indent">
				        <md-icon md-svg-icon="redo"></md-icon>
				        <md-button ng-click="ctrl.sampleAction('redo', $event)">
				          Redo
				          <span class="md-alt-text">{{ 'M-Y' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				      <md-menu-divider></md-menu-divider>
				      <md-menu-item class="md-indent">
				        <md-icon md-svg-icon="content-cut"></md-icon>
				        <md-button ng-click="ctrl.sampleAction('cut', $event)">
				          Cut
				          <span class="md-alt-text">{{ 'M-X' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				      <md-menu-item class="md-indent">
				        <md-icon md-svg-icon="content-copy"></md-icon>
				        <md-button ng-click="ctrl.sampleAction('copy', $event)">
				          Copy
				          <span class="md-alt-text">{{ 'M-C' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				      <md-menu-item class="md-indent">
				        <md-icon md-svg-icon="content-paste"></md-icon>
				        <md-button ng-click="ctrl.sampleAction('paste', $event)">
				          Paste
				          <span class="md-alt-text">{{ 'M-P' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				      <md-menu-divider></md-menu-divider>
				      <md-menu-item class="md-indent">
				        <md-button ng-click="ctrl.sampleAction('Find and replace', $event)">
				          Find and replace...
				          <span class="md-alt-text">{{ 'M-S-H' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				    </md-menu-content>
				  </md-menu>
				  <md-menu>
				    <button ng-click="$mdOpenMenu()">
				      View
				    </button>
				    <md-menu-content>
				      <md-menu-item type="checkbox" ng-model="ctrl.settings.printLayout">Print layout</md-menu-item>
				      <md-menu-item class="md-indent">
				        <md-menu>
				          <md-button ng-click="$mdOpenMenu()">Mode</md-button>
				          <md-menu-content width="3">
				            <md-menu-item type="radio" ng-model="ctrl.settings.presentationMode" value="'presentation'">Presentation</md-menu-item>
				            <md-menu-item type="radio" ng-model="ctrl.settings.presentationMode" value="'edit'">Edit</md-menu-item>
				            <md-menu-item type="radio" ng-model="ctrl.settings.presentationMode" value="'modifiable'">Modifiable</md-menu-item>
				          </md-menu-content>
				        </md-menu>
				      </md-menu-item>
				      <md-menu-divider></md-menu-divider>
				      <md-menu-item type="checkbox" ng-model="ctrl.settings.showRuler">Show ruler</md-menu-item>
				      <md-menu-item type="checkbox" ng-model="ctrl.settings.showEquationToolbar">Show equation toolbar</md-menu-item>
				      <md-menu-item type="checkbox" ng-model="ctrl.settings.showSpellingSuggestions">Show spelling suggestions</md-menu-item>
				      <md-menu-divider></md-menu-divider>
				      <md-menu-item type="checkbox" ng-model="ctrl.settings.compactControls">Compact controls</md-menu-item>
				      <md-menu-item type="checkbox" ng-model="ctrl.settings.fullScreen">Full screen</md-menu-item>
				    </md-menu-content>
				  </md-menu>
				  <md-menu>
				    <button ng-click="$mdOpenMenu()">
				      Format
				    </button>
				    <md-menu-content>
				      <md-menu-item>
				        <md-button ng-click="ctrl.sampleAction('bold', $event)">
				          Bold
				          <span class="md-alt-text"> {{ 'M-B' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				      <md-menu-item>
				        <md-button ng-click="ctrl.sampleAction('italic', $event)">
				          Italic
				          <span class="md-alt-text">{{ 'M-I' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				      <md-menu-item>
				        <md-button ng-click="ctrl.sampleAction('underline', $event)">
				          Underline
				          <span class="md-alt-text">{{ 'M-U' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				      <md-menu-item>
				        <md-button ng-click="ctrl.sampleAction('strikethrough', $event)">
				          Strikethrough
				          <span class="md-alt-text">{{ 'A-S-5' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				      <md-menu-item>
				        <md-button ng-click="ctrl.sampleAction('superscript', $event)">
				          Superscript
				          <span class="md-alt-text">{{ 'M-.' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				      <md-menu-item>
				        <md-button ng-click="ctrl.sampleAction('subscript', $event)">
				          Subscript
				          <span class="md-alt-text">{{ 'M-,' | keyboardShortcut }}</span>
				        </md-button>
				      </md-menu-item>
				      <md-menu-divider></md-menu-divider>
				      <md-menu-item><md-button ng-click="ctrl.toggleSetting('clearFormatting')">Clear Formatting</md-button></md-menu-item>
				    </md-menu-content>
				  </md-menu>
				</md-menu-bar>
			  </div>
			</div>
		  </md-toolbar>

		<section layout="row" flex>

			<!--
			<div id="side-column">
			<md-sidenav md-disable-scroll-target="side-column" md-is-locked-open="true" class="md-sidenav-left" md-component-id="left">
				<md-toolbar class="md-primary">
					<h1 class="md-toolbar-tools">Menu</h1>
			      	</md-toolbar>

				<md-content>
					<md-list-item ng-repeat="item in items" layout="column" style="align-items:left;">
						<a ng-href="{{item.url}}"><span> {{ item.name }} </span></a>
										<md-content>
								<md-list-item ng-repeat="subitem in item.items">
									<a ng-href="{{subitem.url}}"><span> {{ subitem.name }} </span></a>
							</md-content>
						</md-list-item>
					</md-list-item>

					<md-divider></md-divider>

					<md-button ng-click="toggleLeft()" class="md-accent">Close</md-button>
			      	</md-content>
			</md-sidenav>
			</div>
			-->		

			<md-content flex layout-padding>
				<md-card layout="row">
					<img flex="50" ng-src="http://images.wisegeek.com/peaches-growing-in-tree.jpg" class="md-card-image" alt="Peach project image">

					<md-card-title layout="column" flex="50">
						<md-card-title-text layout="column">
							<span class="md-headline" style="font-size: 2em;" ng-bind="ctrl.title"></span>
							<span class="md-subhead" ng-bind="ctrl.description"></span>
							<md-card-title-media layout="row" flex="auto" layout-padding>
								<img class="md-media-sm" style="height:100px;" ng-src="http://galaxy.cineca.it/micco/fusion-form/app/assets/logo_cineca.png" alt="logo1">
								<img class="md-media-sm" style="height:100px;" ng-src="http://www.agraria.unimi.it/images/minerva_unimi.jpg" alt="logo2">
						</md-card-title-media>
						</md-card-title-text>
					</md-card-title>
			      </md-card>

			      <div layout="column" layout-align="top center">
				<div>
				  <md-button ng-click="toggle()" class="md-raised">
				    Toggle Sidenav
				  </md-button>
				</div>
			      </div>

			    </md-content>
		</section>

		<section style="padding: 0% 5% 0% 5%;">
			<p>
				The PeachGEV Database aims to create an interactive resource to archive and display genomic variation in Peach (P. persica L. Batsch) species. The database currently contains pre-assembled Whole-Genome Re-Sequencing data from NGS illumina library of 130 accessions.
			</p>
		</section>

		<section layout="row" style="width:80%; margin-left: auto; margin-right: auto;">
			<div layout="column" flex="50">
				<md-card>
					<canvas id="line" class="chart chart-line" chart-data="chartdata"
						chart-labels="chartlabels" chart-series="chartseries" chart-options="options"
						chart-dataset-override="datasetOverride" chart-click="onClick">
					</canvas>
				</md-card>

				<md-card>
					<canvas id="doughnut" class="chart chart-doughnut"
							chart-data="piedata" chart-labels="pielabels">
					</canvas>
				</md-card>
			</div>

			<div layout="column" flex="50">
				<md-card>
					<canvas id="base" class="chart-horizontal-bar"
					  chart-data="histdata" chart-labels="histlabels" >
					</canvas>
				</md-card>
			</div>

		</section>

		<section style="width:80%; margin-left: auto; margin-right: auto;">
			<md-table-container>
			  <table md-table md-row-select multiple>
				<thead md-head>
				  <tr md-row>
					<th md-column><span>Chromosome</span></th>
					<th md-column md-numeric>Start</th>
					<th md-column md-numeric>End</th>
				  </tr>
				</thead>
				<tbody md-body>
				  <tr md-row md-auto-select ng-repeat="row in data">
					<td md-cell>{{row.chr}}</td>
					<td md-cell>{{row.start}}</td>
					<td md-cell>{{row.end}}</td>
				  </tr>
				</tbody>
			  </table>
			</md-table-container>
		</section>

		
	</body>
</html>
